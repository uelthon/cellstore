import{r as s,b as n,j as e,Q as f,T as p,S as m,i as g,B as l,x}from"./index.fc6d9256.js";import{T as O}from"./Table.52d9a43b.js";const b=({order:t})=>{const[r,c]=s.exports.useState({});if(s.exports.useEffect(()=>{(async()=>{const o=await p.getOne(t.user);c(o)})()},[t]),!t)return null;const d=new Date(t.createdAt).toUTCString().substring(0,16);return n("tr",{children:[e("td",{children:e(f,{to:`/admin/orders/${t.id}`,children:t.id})}),e("td",{children:d}),e("td",{children:r.username}),e("td",{children:t.products.length}),n("td",{style:{color:"green",fontWeight:"bold"},children:["$",t.amount]})]})},S=({orders:t})=>n(O,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[e("thead",{children:n("tr",{children:[e("th",{children:"id"}),e("th",{children:"date"}),e("th",{children:"user"}),e("th",{children:"products"}),e("th",{children:"total amount"})]})}),e("tbody",{children:t.length>0?t.map(r=>e(b,{order:r},r.id)):null})]}),y=()=>{const[t,r]=s.exports.useState(0),[c,d]=s.exports.useState(!1),[a,o]=s.exports.useState(0),[h,u]=s.exports.useState([]);return s.exports.useEffect(()=>{d(!0),(async()=>{try{const i=await x.getAllOrders(t);o(i.count),u(i.orders),d(!1)}catch(i){console.log(i),d(!1)}})()},[t]),n("div",{style:{display:"flex",flexDirection:"column",width:"100%",paddingTop:"2rem",gap:"2rem",alignItems:"center"},children:[e("h1",{children:"Orders"}),e("div",{style:{width:"80%"},children:e(S,{orders:h})}),c?e(m,{animation:"border",variant:"primary",role:"status"}):null,n(g,{children:[e(l,{onClick:()=>r(t-10),disabled:t<10,children:"Prev"}),e(l,{onClick:()=>r(t+10),disabled:t>a-10,children:"Next"})]})]})},A=y;export{A as default};
