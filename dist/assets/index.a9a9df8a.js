import{r as s,d as n,j as e,L as f,C as p,T as m,S as g,A as x,B as l,o as O}from"./index.99067196.js";const S=({order:t})=>{const[r,i]=s.exports.useState({});if(s.exports.useEffect(()=>{(async()=>{const o=await p.getOne(t.user);i(o)})()},[t]),!t)return null;const d=new Date(t.createdAt).toUTCString().substring(0,16);return n("tr",{children:[e("td",{children:e(f,{to:`/admin/orders/${t.id}`,children:t.id})}),e("td",{children:d}),e("td",{children:r.username}),e("td",{children:t.products.length}),n("td",{style:{color:"green",fontWeight:"bold"},children:["$",t.amount]})]})},b=({orders:t})=>n(m,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[e("thead",{children:n("tr",{children:[e("th",{children:"id"}),e("th",{children:"date"}),e("th",{children:"user"}),e("th",{children:"products"}),e("th",{children:"total amount"})]})}),e("tbody",{children:t.length>0?t.map(r=>e(S,{order:r},r.id)):null})]}),y=()=>{const[t,r]=s.exports.useState(0),[i,d]=s.exports.useState(!1),[a,o]=s.exports.useState(0),[h,u]=s.exports.useState([]);return s.exports.useEffect(()=>{d(!0),(async()=>{try{const c=await O.getAllOrders(t);o(c.count),u(c.orders),d(!1)}catch(c){console.log(c),d(!1)}})()},[t]),n("div",{style:{display:"flex",flexDirection:"column",width:"100%",paddingTop:"2rem",gap:"2rem",alignItems:"center"},children:[e("h1",{children:"Orders"}),e("div",{style:{width:"80%"},children:e(b,{orders:h})}),i?e(g,{animation:"border",variant:"primary",role:"status"}):null,n(x,{children:[e(l,{onClick:()=>r(t-10),disabled:t<10,children:"Prev"}),e(l,{onClick:()=>r(t+10),disabled:t>a-10,children:"Next"})]})]})},A=y;export{A as default};
