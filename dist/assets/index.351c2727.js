import{r as n,R as e,L as i,A as E,T as f,S as p,z as h,B as u,o as g}from"./index.2545c27e.js";const x=({order:t})=>{const[r,a]=n.exports.useState({});if(n.exports.useEffect(()=>{(async()=>{const c=await E.getOne(t.user);a(c)})()},[t]),!t)return null;const l=new Date(t.createdAt).toUTCString().substring(0,16);return e.createElement("tr",null,e.createElement("td",null,e.createElement(i,{to:`/admin/orders/${t.id}`},t.id)),e.createElement("td",null,l),e.createElement("td",null,r.username),e.createElement("td",null,t.products.length),e.createElement("td",{style:{color:"green",fontWeight:"bold"}},"$",t.amount))},O=({orders:t})=>e.createElement(f,{striped:!0,bordered:!0,hover:!0,responsive:!0},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",null,"id"),e.createElement("th",null,"date"),e.createElement("th",null,"user"),e.createElement("th",null,"products"),e.createElement("th",null,"total amount"))),e.createElement("tbody",null,t.length>0?t.map(r=>e.createElement(x,{key:r.id,order:r})):null)),y=()=>{const[t,r]=n.exports.useState(0),[a,l]=n.exports.useState(!1),[o,c]=n.exports.useState(0),[d,m]=n.exports.useState([]);return n.exports.useEffect(()=>{l(!0),(async()=>{try{const s=await g.getAllOrders(t);c(s.count),m(s.orders),l(!1)}catch(s){console.log(s),l(!1)}})()},[t]),e.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",paddingTop:"2rem",gap:"2rem",alignItems:"center"}},e.createElement("h1",null,"Orders"),e.createElement("div",{style:{width:"80%"}},e.createElement(O,{orders:d})),a?e.createElement(p,{animation:"border",variant:"primary",role:"status"}):null,e.createElement(h,null,e.createElement(u,{onClick:()=>r(t-10),disabled:t<10},"Prev"),e.createElement(u,{onClick:()=>r(t+10),disabled:t>o-10},"Next")))},v=y;export{v as default};
