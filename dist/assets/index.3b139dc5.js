import{f as P,j as h,F as C,r as d,g as S,h as T,i as I,k,b,R as e,M as q,l as f,m as D,n as r,B as x,q as G,t as j,v as N,w as R,x as B,e as z,y as A,T as L,z as $}from"./index.0401cebd.js";const g=P("input-group-text",{Component:"span"}),F=t=>h.exports.jsx(g,{children:h.exports.jsx(C,{type:"checkbox",...t})}),M=t=>h.exports.jsx(g,{children:h.exports.jsx(C,{type:"radio",...t})}),v=d.exports.forwardRef(({bsPrefix:t,size:n,hasValidation:s,className:c,as:m="div",...o},i)=>{t=S(t,"input-group");const l=d.exports.useMemo(()=>({}),[]);return h.exports.jsx(T.Provider,{value:l,children:h.exports.jsx(m,{ref:i,...o,className:I(c,t,n&&`${t}-${n}`,s&&"has-validation")})})});v.displayName="InputGroup";const u=Object.assign(v,{Text:g,Radio:M,Checkbox:F}),O=async t=>({name:t.name,brand:t.brand,procesador:{speed:t.speed,type:t.type},display:{size:t.size,resolution:t.resolution},camera:{front:t.front,back:t.back},memory:{ram:t.ram,rom:t.rom},battery:t.battery,img:t.img,price:t.price}),W=()=>{const{register:t,formState:{errors:n},handleSubmit:s,reset:c}=k(),[m,o]=d.exports.useState(!1),i=b(),l={req:"This field is required"},p=async E=>{const y=await O(E);i(G(y,o)),console.log(y)};return e.createElement(q,{btnTitle:e.createElement(f,{icon:D}),head:"Add Product",show:m,setShow:o},e.createElement(r,{style:{display:"flex",flexDirection:"column",gap:"1rem"},onSubmit:s(p)},e.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxHeight:"50vh",overflow:"auto",scrollbarWidth:"thin",paddingRight:"1rem",paddingLeft:"1rem"}},e.createElement(r.Group,null,e.createElement(r.Label,null,"Name:"),e.createElement(r.Control,{...t("name",{required:l.req}),name:"name",type:"text",placeholder:"name"}),n.name&&n.name.message),e.createElement(r.Group,null,e.createElement(r.Label,null,"Brand:"),e.createElement(r.Control,{...t("brand",{required:l.req}),name:"brand",type:"text",placeholder:"brand"}),n.brand&&n.brand.message),e.createElement(u,null,e.createElement(u.Text,null,"Processor:"),e.createElement(r.Control,{...t("speed",{required:l.req}),name:"speed",step:".01",type:"number",placeholder:"speed"}),e.createElement(r.Control,{...t("type",{required:l.req}),name:"type",type:"text",placeholder:"type"})),e.createElement(u,null,e.createElement(u.Text,null,"Display:"),e.createElement(r.Control,{...t("size",{required:l.req}),name:"size",type:"number",step:".01",placeholder:"size"}),e.createElement(r.Control,{...t("resolution",{required:l.req}),name:"resolution",placeholder:"resolution",type:"text"})),e.createElement(u,null,e.createElement(u.Text,null,"Cameras:"),e.createElement(r.Control,{...t("front",{required:l.req}),name:"front",placeholder:"front",type:"text"}),e.createElement(r.Control,{...t("back",{required:l.req}),name:"back",placeholder:"back",type:"text"})),e.createElement(u,null,e.createElement(u.Text,null,"Memory:"),e.createElement(r.Control,{...t("ram",{required:l.req}),name:"ram",placeholder:"ram",step:".01",type:"number"}),e.createElement(r.Control,{...t("rom",{required:l.req}),name:"rom",placeholder:"rom",step:".01",type:"number"})),e.createElement(r.Group,null,e.createElement(r.Label,null,"Battery:"),e.createElement(r.Control,{...t("battery",{required:l.req}),name:"battery",placeholder:"battery",type:"number",step:".01"}),n.battery&&n.battery.message),e.createElement(r.Group,null,e.createElement(r.Label,null,"Image:"),e.createElement(r.Control,{...t("img",{required:l.req}),name:"img",placeholder:"img-url",type:"text"}),n.img&&n.img.message),e.createElement(r.Group,null,e.createElement(r.Label,null,"Price:"),e.createElement(r.Control,{...t("price",{required:l.req}),name:"price",placeholder:"price",type:"number",step:".01"}),n.price&&n.price.message)),e.createElement(x,{type:"submit"},"submit")))},H=({id:t,name:n})=>{const[s,c]=d.exports.useState(!1),[m,o]=d.exports.useState(0),i=b(),l=async p=>{p.preventDefault();const E={price:Number(m)};i(N(t,E)),c(!1)};return e.createElement(q,{btnTitle:e.createElement(f,{icon:j}),head:`Change Price of ${n}`,show:s,setShow:c},e.createElement(r,{onSubmit:l},e.createElement(r.Control,{type:"number",value:m,onChange:p=>o(p.target.value),placeholder:"Price",required:!0}),e.createElement("br",null),e.createElement(x,{type:"submit"},"Submit")))},U=({id:t})=>{const n=b(),s=()=>{window.confirm("Do you want to delete it?")&&window.confirm("Do you really want to delete it?")&&n(B(t))};return e.createElement("div",{style:{color:"red",cursor:"pointer"},onClick:()=>s()},e.createElement(f,{icon:R}))},V=()=>{const t=z(a=>a.products.value),[n,s]=d.exports.useState(""),[c,m]=d.exports.useState("recents"),[o,i]=d.exports.useState(0);if(!t)return null;const l=new RegExp(n,"i"),p=t.filter(a=>l.test(a.name))||[],E=A[c]([...p])||[],y=E.slice(o,o+10);return e.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",justifyContent:"flex-start"}},e.createElement("div",{style:{display:"grid",placeItems:"center",width:"100%"}},e.createElement(r.Control,{type:"text",value:n,onChange:a=>s(a.target.value),placeholder:"Search Product",style:{width:"50%"}})),e.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},e.createElement(r.Select,{style:{width:"150px"},value:c,onChange:a=>m(a.target.value)},e.createElement("option",{value:"recents"},"recents"),e.createElement("option",{value:"older"},"olders"),e.createElement("option",{value:"lprice"},"low prices"),e.createElement("option",{value:"hprice"},"high prices")),e.createElement(W,null)),e.createElement(L,{size:"sm",striped:!0,bordered:!0,hover:!0,responsive:!0},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",null,"Id"),e.createElement("th",null,"Date"),e.createElement("th",null,"Name"),e.createElement("th",null,"Price"),e.createElement("th",null,"Edit-Price"),e.createElement("th",null,"Delete"))),e.createElement("tbody",null,y.map(a=>{const w=new Date(a.createdAt).toUTCString().substring(0,16);return e.createElement("tr",{key:a.id},e.createElement("td",null,a.id),e.createElement("td",null,w),e.createElement("td",null,a.name),e.createElement("td",null,"$",a.price),e.createElement("td",null,e.createElement(H,{id:a.id,name:a.name})),e.createElement("td",null,e.createElement(U,{id:a.id})))}))),e.createElement("div",{style:{display:"grid",placeItems:"center",width:"100%"}},e.createElement($,null,e.createElement(x,{onClick:()=>i(o-10),disabled:o<10},"Prev"),e.createElement(x,{onClick:()=>i(o+10),disabled:o>=E.length-10},"Next"))))},J=()=>e.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-Start",alignItems:"center",paddingTop:"2rem"}},e.createElement("div",{style:{width:"80%"}},e.createElement(V,null))),Q=J;export{Q as default};
