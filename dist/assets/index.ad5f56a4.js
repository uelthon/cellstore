import{u as f,C as E,b as U,R as e,l as m,D as A,A as g,s as c,E as C,G as $,T as w,r as l,S as D,z as R,B as v}from"./index.2545c27e.js";const k=({id:s,status:t})=>{const o=f(),[a]=E(),i=a.get("offset")||0,r=U(),u=async()=>{const d=Number(i);try{return await g.disableUser(s),o(`/admin/users?offset=${d}&id=${s}&disable=${!t}`),r(t?c(["user was actived","success"]):c(["user was disabled","danger"]))}catch(n){console.log(n),r(c([n.response.data.error,"danger"]))}};return e.createElement("div",{style:{color:t?"red":"green",cursor:"pointer"},onClick:()=>u()},e.createElement(m,{icon:A}))},N=({id:s,isAdmin:t})=>{const o=f(),[a]=E(),i=a.get("offset")||0,r=U(),u=async()=>{const d=Number(i);try{return await g.adminUser(s),o(`/admin/users?offset=${d}&id=${s}&admin=${!t}`),r(t?c(["User role change to customer","danger"]):c(["User role change to Admin","success"]))}catch(n){console.log(n),r(c([n.response.data.error,"danger"]))}};return e.createElement("div",{style:{color:"#0d6efd",cursor:"pointer"},onClick:()=>u()},t?e.createElement(m,{icon:C}):e.createElement(m,{icon:$}))},I=({users:s})=>e.createElement(w,{striped:!0,bordered:!0,hover:!0,responsive:!0},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",null,"Id"),e.createElement("th",null,"Username"),e.createElement("th",null,"Status"),e.createElement("th",null,"Role"),e.createElement("th",null,"Change Status"),e.createElement("th",null,"Change Role"))),e.createElement("tbody",null,s.length>0?s.map(t=>e.createElement("tr",{key:t.id},e.createElement("td",null,t.id),e.createElement("td",null,t.username),e.createElement("td",{style:{color:t.disable?"red":"green",fontWeight:"bold"}},t.disable?"Disable":"Active"),e.createElement("td",null,t.isAdmin?"Admin":"Customer"),e.createElement("td",null,e.createElement(k,{id:t.id,status:t.disable})),e.createElement("td",null,e.createElement(N,{id:t.id,isAdmin:t.isAdmin})))):null)),T=()=>{const[s,t]=l.exports.useState(0),[o,a]=l.exports.useState(!1),[i,r]=l.exports.useState(0),[u,d]=l.exports.useState([]),[n]=E(),h=n.get("offset")||0,y=n.get("disable")||!1,S=n.get("admin")||!1,x=n.get("id")||"",p=f();return l.exports.useEffect(()=>{t(Number(h))},[h]),l.exports.useEffect(()=>{a(!0),(async()=>{const b=await g.getAll(s);r(b.count),d(b.users),a(!1)})()},[s,y,x,S]),e.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",paddingTop:"2rem",gap:"2rem",alignItems:"center"}},e.createElement("h1",null,"Users Management"),e.createElement("div",{style:{width:"80%"}},e.createElement(I,{users:u})),o?e.createElement(D,{animation:"border",role:"status",variant:"primary"}):null,e.createElement("div",null,e.createElement(R,null,e.createElement(v,{onClick:()=>p(`?offset=${s-5}`),disabled:s<5},"prev"),e.createElement(v,{onClick:()=>p(`?offset=${s+5}`),disabled:s>i-5},"next"))))},G=T;export{G as default};
